/**
 * Seed script for populating the database with sample vendors
 *
 * Run with: set -a && source .env.local && npx tsx scripts/seed-vendors.ts
 */

import { db } from "../lib/db";
import { vendorProfiles } from "../lib/db/schema";
import { sql } from "drizzle-orm";

// Helper to scale rating to integer (4.9 -> 49)
const scaleRating = (rating: number) => Math.round(rating * 10);

// Sample vendors organized by category
const SAMPLE_VENDORS = [
  // PHOTOGRAPHERS (4)
  {
    name: "Golden Hour Studios",
    slug: "golden-hour-studios",
    category: "photographer",
    description: "We specialize in capturing the magic of your wedding day with a fine art approach. Our style is light, airy, and romantic - perfect for couples who love timeless imagery.",
    city: "Los Angeles",
    state: "CA",
    priceRange: "$$$",
    email: "hello@goldenhour.studio",
    website: "https://goldenhour.studio",
    instagram: "goldenhourstudios",
    profileImage: "https://images.unsplash.com/photo-1606216794074-735e91aa2c92?w=400",
    coverImage: "https://images.unsplash.com/photo-1519741497674-611481863552?w=1200",
    portfolioImages: [
      "https://images.unsplash.com/photo-1511285560929-80b456fea0bc?w=800",
      "https://images.unsplash.com/photo-1519741497674-611481863552?w=800",
      "https://images.unsplash.com/photo-1465495976277-4387d4b0b4c6?w=800",
      "https://images.unsplash.com/photo-1606800052052-a08af7148866?w=800",
    ],
    isVerified: true,
    isFeatured: true,
    averageRating: scaleRating(4.9),
    reviewCount: 127,
    saveCount: 89,
  },
  {
    name: "Lenscraft Moments",
    slug: "lenscraft-moments",
    category: "photographer",
    description: "Documentary-style wedding photography that tells your unique love story. We believe in authentic moments over posed perfection.",
    city: "Brooklyn",
    state: "NY",
    priceRange: "$$$$",
    email: "book@lenscraft.co",
    website: "https://lenscraft.co",
    instagram: "lenscraftmoments",
    profileImage: "https://images.unsplash.com/photo-1554048612-b6a482bc67e5?w=400",
    coverImage: "https://images.unsplash.com/photo-1537633552985-df8429e8048b?w=1200",
    portfolioImages: [
      "https://images.unsplash.com/photo-1537633552985-df8429e8048b?w=800",
      "https://images.unsplash.com/photo-1522673607200-164d1b6ce486?w=800",
      "https://images.unsplash.com/photo-1460978812857-470ed1c77af0?w=800",
    ],
    isVerified: true,
    isFeatured: false,
    averageRating: scaleRating(4.8),
    reviewCount: 94,
    saveCount: 156,
  },
  {
    name: "Capture & Joy",
    slug: "capture-and-joy",
    category: "photographer",
    description: "Fun, vibrant wedding photography for modern couples. We bring energy and creativity to every celebration we capture.",
    city: "Austin",
    state: "TX",
    priceRange: "$$",
    email: "hello@captureandjoy.com",
    website: "https://captureandjoy.com",
    instagram: "captureandjoy",
    profileImage: "https://images.unsplash.com/photo-1519307212971-dd8fa7e092f0?w=400",
    coverImage: "https://images.unsplash.com/photo-1583939003579-730e3918a45a?w=1200",
    portfolioImages: [
      "https://images.unsplash.com/photo-1583939003579-730e3918a45a?w=800",
      "https://images.unsplash.com/photo-1529636798458-92182e662485?w=800",
    ],
    isVerified: false,
    isFeatured: false,
    averageRating: scaleRating(4.7),
    reviewCount: 63,
    saveCount: 42,
  },
  {
    name: "Radiant Films & Photo",
    slug: "radiant-films-photo",
    category: "photographer",
    description: "Award-winning photography and cinematography team. We offer both photo and video packages for complete wedding coverage.",
    city: "Miami",
    state: "FL",
    priceRange: "$$$",
    email: "info@radiantfilms.com",
    instagram: "radiantfilmsphoto",
    profileImage: "https://images.unsplash.com/photo-1544717305-2782549b5136?w=400",
    coverImage: "https://images.unsplash.com/photo-1591604466107-ec97de577aff?w=1200",
    portfolioImages: [
      "https://images.unsplash.com/photo-1591604466107-ec97de577aff?w=800",
      "https://images.unsplash.com/photo-1544717305-2782549b5136?w=800",
    ],
    isVerified: true,
    isFeatured: false,
    averageRating: scaleRating(4.6),
    reviewCount: 48,
    saveCount: 37,
  },

  // VENUES (3)
  {
    name: "The Garden Estate",
    slug: "the-garden-estate",
    category: "venue",
    description: "A stunning 50-acre estate featuring manicured gardens, a historic mansion, and breathtaking mountain views. Perfect for elegant outdoor ceremonies.",
    city: "Napa",
    state: "CA",
    priceRange: "$$$$",
    email: "events@gardenestate.com",
    website: "https://gardenestate.com",
    instagram: "thegardenestatenapa",
    profileImage: "https://images.unsplash.com/photo-1519167758481-83f550bb49b3?w=400",
    coverImage: "https://images.unsplash.com/photo-1519167758481-83f550bb49b3?w=1200",
    portfolioImages: [
      "https://images.unsplash.com/photo-1519167758481-83f550bb49b3?w=800",
      "https://images.unsplash.com/photo-1464366400600-7168b8af9bc3?w=800",
      "https://images.unsplash.com/photo-1478146896981-b80fe463b330?w=800",
    ],
    isVerified: true,
    isFeatured: true,
    averageRating: scaleRating(4.9),
    reviewCount: 89,
    saveCount: 234,
  },
  {
    name: "Skyline Loft",
    slug: "skyline-loft",
    category: "venue",
    description: "Modern industrial loft with floor-to-ceiling windows overlooking the city skyline. Features exposed brick, steel beams, and contemporary elegance.",
    city: "Chicago",
    state: "IL",
    priceRange: "$$$",
    email: "book@skylineloft.com",
    website: "https://skylineloft.com",
    instagram: "skylineloftchi",
    profileImage: "https://images.unsplash.com/photo-1505236858219-8359eb29e329?w=400",
    coverImage: "https://images.unsplash.com/photo-1505236858219-8359eb29e329?w=1200",
    portfolioImages: [
      "https://images.unsplash.com/photo-1505236858219-8359eb29e329?w=800",
      "https://images.unsplash.com/photo-1478146896981-b80fe463b330?w=800",
    ],
    isVerified: true,
    isFeatured: false,
    averageRating: scaleRating(4.7),
    reviewCount: 56,
    saveCount: 112,
  },
  {
    name: "Oceanview Manor",
    slug: "oceanview-manor",
    category: "venue",
    description: "Historic beachfront mansion with private beach access. Offering indoor and outdoor ceremony options with stunning Pacific Ocean views.",
    city: "San Diego",
    state: "CA",
    priceRange: "$$$$",
    email: "events@oceanviewmanor.com",
    website: "https://oceanviewmanor.com",
    profileImage: "https://images.unsplash.com/photo-1523438885200-e635ba2c371e?w=400",
    coverImage: "https://images.unsplash.com/photo-1523438885200-e635ba2c371e?w=1200",
    portfolioImages: [
      "https://images.unsplash.com/photo-1523438885200-e635ba2c371e?w=800",
      "https://images.unsplash.com/photo-1515934751635-c81c6bc9a2d8?w=800",
    ],
    isVerified: true,
    isFeatured: false,
    averageRating: scaleRating(4.8),
    reviewCount: 73,
    saveCount: 189,
  },

  // FLORISTS (3)
  {
    name: "Bloom & Flourish",
    slug: "bloom-and-flourish",
    category: "florist",
    description: "Luxury floral design studio specializing in romantic, garden-style arrangements. We source the finest seasonal blooms for your celebration.",
    city: "Seattle",
    state: "WA",
    priceRange: "$$$",
    email: "hello@bloomandflourish.com",
    website: "https://bloomandflourish.com",
    instagram: "bloomandflourish",
    profileImage: "https://images.unsplash.com/photo-1487530811176-3780de880c2d?w=400",
    coverImage: "https://images.unsplash.com/photo-1487530811176-3780de880c2d?w=1200",
    portfolioImages: [
      "https://images.unsplash.com/photo-1487530811176-3780de880c2d?w=800",
      "https://images.unsplash.com/photo-1522057384400-681b421cfebc?w=800",
      "https://images.unsplash.com/photo-1561731216-c3a4d99437d5?w=800",
    ],
    isVerified: true,
    isFeatured: true,
    averageRating: scaleRating(5.0),
    reviewCount: 67,
    saveCount: 143,
  },
  {
    name: "Wild Petal Co",
    slug: "wild-petal-co",
    category: "florist",
    description: "Organic, sustainable floral design with a wild, untamed aesthetic. We specialize in locally-sourced and foraged arrangements.",
    city: "Portland",
    state: "OR",
    priceRange: "$$",
    email: "wildpetal@gmail.com",
    instagram: "wildpetalco",
    profileImage: "https://images.unsplash.com/photo-1445052520430-32c8d8585f9c?w=400",
    coverImage: "https://images.unsplash.com/photo-1445052520430-32c8d8585f9c?w=1200",
    portfolioImages: [
      "https://images.unsplash.com/photo-1445052520430-32c8d8585f9c?w=800",
      "https://images.unsplash.com/photo-1508610048659-a06b669e3321?w=800",
    ],
    isVerified: false,
    isFeatured: false,
    averageRating: scaleRating(4.8),
    reviewCount: 41,
    saveCount: 78,
  },
  {
    name: "Petals & Stems Studio",
    slug: "petals-and-stems",
    category: "florist",
    description: "Classic and elegant floral designs for timeless weddings. From bridal bouquets to grand installations, we bring your vision to life.",
    city: "Nashville",
    state: "TN",
    priceRange: "$$",
    email: "info@petalsandstems.com",
    website: "https://petalsandstems.com",
    instagram: "petalsandstems",
    profileImage: "https://images.unsplash.com/photo-1563241527-3004b7be0ffd?w=400",
    coverImage: "https://images.unsplash.com/photo-1563241527-3004b7be0ffd?w=1200",
    portfolioImages: [
      "https://images.unsplash.com/photo-1563241527-3004b7be0ffd?w=800",
    ],
    isVerified: true,
    isFeatured: false,
    averageRating: scaleRating(4.6),
    reviewCount: 29,
    saveCount: 45,
  },

  // CATERERS (3)
  {
    name: "Taste of Elegance Catering",
    slug: "taste-of-elegance",
    category: "caterer",
    description: "Farm-to-table catering with a focus on seasonal ingredients and creative presentation. From intimate dinners to grand receptions.",
    city: "Denver",
    state: "CO",
    priceRange: "$$$",
    email: "events@tasteofelegance.com",
    website: "https://tasteofelegance.com",
    instagram: "tasteofelegance",
    profileImage: "https://images.unsplash.com/photo-1467003909585-2f8a72700288?w=400",
    coverImage: "https://images.unsplash.com/photo-1467003909585-2f8a72700288?w=1200",
    portfolioImages: [
      "https://images.unsplash.com/photo-1467003909585-2f8a72700288?w=800",
      "https://images.unsplash.com/photo-1555244162-803834f70033?w=800",
    ],
    isVerified: true,
    isFeatured: true,
    averageRating: scaleRating(4.9),
    reviewCount: 82,
    saveCount: 95,
  },
  {
    name: "Savory Celebrations",
    slug: "savory-celebrations",
    category: "caterer",
    description: "Full-service catering offering diverse cuisine options from classic American to international flavors. Custom menus for every celebration.",
    city: "Atlanta",
    state: "GA",
    priceRange: "$$",
    email: "info@savorycelebrations.com",
    website: "https://savorycelebrations.com",
    profileImage: "https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=400",
    coverImage: "https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=1200",
    portfolioImages: [
      "https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=800",
    ],
    isVerified: false,
    isFeatured: false,
    averageRating: scaleRating(4.5),
    reviewCount: 37,
    saveCount: 28,
  },
  {
    name: "Artisan Kitchen Collective",
    slug: "artisan-kitchen-collective",
    category: "caterer",
    description: "Creative, chef-driven catering with a focus on artisanal ingredients and innovative presentation. We specialize in interactive food stations.",
    city: "San Francisco",
    state: "CA",
    priceRange: "$$$$",
    email: "book@artisankitchen.co",
    instagram: "artisankitchencollective",
    profileImage: "https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=400",
    coverImage: "https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=1200",
    portfolioImages: [
      "https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=800",
      "https://images.unsplash.com/photo-1476224203421-9ac39bcb3327?w=800",
    ],
    isVerified: true,
    isFeatured: false,
    averageRating: scaleRating(4.8),
    reviewCount: 54,
    saveCount: 67,
  },

  // DJs/Musicians (2)
  {
    name: "Rhythm & Soul DJs",
    slug: "rhythm-and-soul-djs",
    category: "dj",
    description: "Professional wedding DJs who know how to read the crowd and keep the dance floor packed all night. From ceremony to last call.",
    city: "Phoenix",
    state: "AZ",
    priceRange: "$$",
    email: "book@rhythmandsoul.com",
    website: "https://rhythmandsoul.com",
    instagram: "rhythmandsouldjs",
    profileImage: "https://images.unsplash.com/photo-1571266028243-e4733b0f0bb0?w=400",
    coverImage: "https://images.unsplash.com/photo-1571266028243-e4733b0f0bb0?w=1200",
    portfolioImages: [
      "https://images.unsplash.com/photo-1571266028243-e4733b0f0bb0?w=800",
    ],
    isVerified: true,
    isFeatured: false,
    averageRating: scaleRating(4.7),
    reviewCount: 91,
    saveCount: 56,
  },
  {
    name: "String Theory Quartet",
    slug: "string-theory-quartet",
    category: "musician",
    description: "Classically trained string quartet offering ceremony and cocktail hour music. From Bach to Beatles, we play it all beautifully.",
    city: "Boston",
    state: "MA",
    priceRange: "$$$",
    email: "info@stringtheoryquartet.com",
    website: "https://stringtheoryquartet.com",
    instagram: "stringtheoryquartet",
    profileImage: "https://images.unsplash.com/photo-1465847899084-d164df4dedc6?w=400",
    coverImage: "https://images.unsplash.com/photo-1465847899084-d164df4dedc6?w=1200",
    portfolioImages: [
      "https://images.unsplash.com/photo-1465847899084-d164df4dedc6?w=800",
    ],
    isVerified: true,
    isFeatured: false,
    averageRating: scaleRating(5.0),
    reviewCount: 44,
    saveCount: 89,
  },

  // VIDEOGRAPHERS (2)
  {
    name: "Cinematic Love Films",
    slug: "cinematic-love-films",
    category: "videographer",
    description: "Award-winning wedding cinematography that tells your love story. We create emotional, movie-quality films you'll treasure forever.",
    city: "Las Vegas",
    state: "NV",
    priceRange: "$$$$",
    email: "hello@cinematiclovefilms.com",
    website: "https://cinematiclovefilms.com",
    instagram: "cinematiclovefilms",
    profileImage: "https://images.unsplash.com/photo-1492691527719-9d1e07e534b4?w=400",
    coverImage: "https://images.unsplash.com/photo-1492691527719-9d1e07e534b4?w=1200",
    portfolioImages: [
      "https://images.unsplash.com/photo-1492691527719-9d1e07e534b4?w=800",
    ],
    isVerified: true,
    isFeatured: true,
    averageRating: scaleRating(4.9),
    reviewCount: 58,
    saveCount: 123,
  },
  {
    name: "Storybook Video Co",
    slug: "storybook-video-co",
    category: "videographer",
    description: "Modern wedding videography with a storytelling approach. We capture not just moments, but the emotions behind them.",
    city: "Dallas",
    state: "TX",
    priceRange: "$$$",
    email: "info@storybookvideo.co",
    instagram: "storybookvideoco",
    profileImage: "https://images.unsplash.com/photo-1516035069371-29a1b244cc32?w=400",
    coverImage: "https://images.unsplash.com/photo-1516035069371-29a1b244cc32?w=1200",
    portfolioImages: [
      "https://images.unsplash.com/photo-1516035069371-29a1b244cc32?w=800",
    ],
    isVerified: false,
    isFeatured: false,
    averageRating: scaleRating(4.6),
    reviewCount: 31,
    saveCount: 47,
  },

  // WEDDING PLANNERS (2)
  {
    name: "Blissful Events Co",
    slug: "blissful-events-co",
    category: "wedding-planner",
    description: "Full-service wedding planning and design. We handle every detail so you can enjoy your engagement and wedding day stress-free.",
    city: "Charlotte",
    state: "NC",
    priceRange: "$$$",
    email: "hello@blissfulevents.co",
    website: "https://blissfulevents.co",
    instagram: "blissfuleventsco",
    profileImage: "https://images.unsplash.com/photo-1527529482837-4698179dc6ce?w=400",
    coverImage: "https://images.unsplash.com/photo-1527529482837-4698179dc6ce?w=1200",
    portfolioImages: [
      "https://images.unsplash.com/photo-1527529482837-4698179dc6ce?w=800",
      "https://images.unsplash.com/photo-1465495976277-4387d4b0b4c6?w=800",
    ],
    isVerified: true,
    isFeatured: true,
    averageRating: scaleRating(5.0),
    reviewCount: 76,
    saveCount: 167,
  },
  {
    name: "Harmony Wedding Planning",
    slug: "harmony-wedding-planning",
    category: "wedding-planner",
    description: "Day-of coordination and partial planning services. We bring your vision together seamlessly on your big day.",
    city: "Minneapolis",
    state: "MN",
    priceRange: "$$",
    email: "info@harmonyweddings.com",
    website: "https://harmonyweddings.com",
    instagram: "harmonyweddingplanning",
    profileImage: "https://images.unsplash.com/photo-1519741497674-611481863552?w=400",
    coverImage: "https://images.unsplash.com/photo-1519741497674-611481863552?w=1200",
    portfolioImages: [
      "https://images.unsplash.com/photo-1519741497674-611481863552?w=800",
    ],
    isVerified: true,
    isFeatured: false,
    averageRating: scaleRating(4.8),
    reviewCount: 52,
    saveCount: 83,
  },

  // HAIR & MAKEUP (2)
  {
    name: "Glam Squad Beauty",
    slug: "glam-squad-beauty",
    category: "hair-makeup",
    description: "Bridal hair and makeup artistry for the modern bride. We travel to your venue and bring a team for you and your wedding party.",
    city: "Orlando",
    state: "FL",
    priceRange: "$$",
    email: "book@glamsquadbeauty.com",
    website: "https://glamsquadbeauty.com",
    instagram: "glamsquadbeauty",
    profileImage: "https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?w=400",
    coverImage: "https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?w=1200",
    portfolioImages: [
      "https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?w=800",
    ],
    isVerified: true,
    isFeatured: false,
    averageRating: scaleRating(4.7),
    reviewCount: 88,
    saveCount: 102,
  },
  {
    name: "Bridal Glow Studio",
    slug: "bridal-glow-studio",
    category: "hair-makeup",
    description: "Luxury bridal beauty specializing in timeless, radiant looks. We offer trials and on-site services for your entire wedding party.",
    city: "Scottsdale",
    state: "AZ",
    priceRange: "$$$",
    email: "hello@bridalglow.studio",
    instagram: "bridalglowstudio",
    profileImage: "https://images.unsplash.com/photo-1560066984-138dadb4c035?w=400",
    coverImage: "https://images.unsplash.com/photo-1560066984-138dadb4c035?w=1200",
    portfolioImages: [
      "https://images.unsplash.com/photo-1560066984-138dadb4c035?w=800",
    ],
    isVerified: true,
    isFeatured: false,
    averageRating: scaleRating(4.9),
    reviewCount: 64,
    saveCount: 91,
  },
];

async function seedVendors() {
  console.log("Starting vendor seed...");

  // Check if vendors already exist
  const existingVendors = await db.query.vendorProfiles.findFirst();
  if (existingVendors) {
    console.log("Vendors already exist. Skipping seed to prevent duplicates.");
    console.log("To re-seed, first delete existing vendors:");
    console.log("  DELETE FROM vendor_profiles;");
    return;
  }

  // Insert all vendors
  for (const vendor of SAMPLE_VENDORS) {
    try {
      await db.insert(vendorProfiles).values(vendor);
      console.log(`✓ Created vendor: ${vendor.name}`);
    } catch (error) {
      console.error(`✗ Failed to create vendor: ${vendor.name}`, error);
    }
  }

  console.log(`\nSeed complete! Created ${SAMPLE_VENDORS.length} vendors.`);
}

seedVendors()
  .then(() => process.exit(0))
  .catch((error) => {
    console.error("Seed failed:", error);
    process.exit(1);
  });
